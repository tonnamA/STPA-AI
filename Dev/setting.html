<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="/theme.js"></script>
    <link rel="stylesheet" href="/navbar.css">

</head>

<body>
    <nav>
        <ul>
            <li><a href="#" class="special">STPA-AI</a></li>
            <div class="center">
                <li class="hide"><a href="setting.html" class="change" id="nav-setting">ตั้งค่า</a></li>
                <li class="hide"><a href="../content.html" class="change" id="nav-content">ฝึกฝน</a></li>
                <li class="hide"><a href="#" class="change">API's</a></li>
            </div>
            <li id="sun"><a href="#" class="hide"><svg xmlns="http://www.w3.org/2000/svg" height="24px"
                        viewBox="0 -960 960 960" width="24px" fill="#1f1f1f">
                        <path
                            d="M480-360q50 0 85-35t35-85q0-50-35-85t-85-35q-50 0-85 35t-35 85q0 50 35 85t85 35Zm0 80q-83 0-141.5-58.5T280-480q0-83 58.5-141.5T480-680q83 0 141.5 58.5T680-480q0 83-58.5 141.5T480-280ZM200-440H40v-80h160v80Zm720 0H760v-80h160v80ZM440-760v-160h80v160h-80Zm0 720v-160h80v160h-80ZM256-650l-101-97 57-59 96 100-52 56Zm492 496-97-101 53-55 101 97-57 59Zm-98-550 97-101 59 57-100 96-56-52ZM154-212l101-97 55 53-97 101-59-57Zm326-268Z" />
                    </svg></a></li>
            <li class="menubtn"><a href="#" onclick="showsidebar()"><svg xmlns="http://www.w3.org/2000/svg"
                        height="26px" viewBox="0 -960 960 960" width="26px" fill="#1f1f1f">
                        <path d="M120-240v-80h720v80H120Zm0-200v-80h720v80H120Zm0-200v-80h720v80H120Z" /></svg></a></li>
        </ul>
    </nav>

    <header>
        <div class="container-wrapper">
            <div class="flex">
                <svg width="112" height="99" viewBox="0 0 112 99" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g id="Generic avatar">
                        <rect width="111.565" height="98.5624" rx="49.2812"
                            transform="matrix(0.999992 0.00393029 -0.00425365 0.999991 0.418945 0)" fill="#EADDFF" />
                        <g id="Avatar Placeholder">
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M72.7687 39.7096C72.734 47.8747 65.2135 54.4643 55.9712 54.428C46.729 54.3917 39.2648 47.7431 39.2996 39.578C39.3343 31.4129 46.8548 24.8232 56.097 24.8596C65.3393 24.8959 72.8034 31.5445 72.7687 39.7096ZM67.1905 39.6876C67.1674 45.131 62.1537 49.5241 55.9922 49.4999C49.8307 49.4757 44.8546 45.0433 44.8777 39.5999C44.9009 34.1565 49.9146 29.7634 56.0761 29.7876C62.2376 29.8118 67.2137 34.2442 67.1905 39.6876Z"
                                fill="#4F378A" />
                            <path
                                d="M55.9398 61.8201C37.8821 61.7491 22.4564 71.122 16.5394 84.3152C17.9618 85.5733 19.4608 86.7639 21.0296 87.8811C25.4454 75.7645 39.1751 66.6824 55.9188 66.7482C72.6626 66.814 86.3145 76.0037 90.6271 88.1547C92.2054 87.0499 93.7145 85.8711 95.1475 84.6242C89.343 71.3849 73.9975 61.8911 55.9398 61.8201Z"
                                fill="#4F378A" />
                        </g>
                    </g>
                </svg>
                <h1 id="name"></h1>
            </div>
        </div>
    </header>
    <main>
        <div class="container-wrapper wrap">
            <h1>ตั้งค่า</h1>
        <label for="theme-select"> ธีม</label>
        <select id="theme-select">
            <option value="light">สว่าง</option>
            <option value="dark">มืด</option>
        </select>
        </div>
    </main>
    <div class="logout-outsidewrapper">
        <div class="logout-wrapper">   
                <button id="logout">logout</button>
        </div>
    </div>
    
  

    <nav>
        <ul class="sidebar">
            <li><a href="#" onclick="hidesidebar()"><svg xmlns="http://www.w3.org/2000/svg" height="24px"
                        viewBox="0 -960 960 960" width="24px" fill="#1f1f1f">
                        <path
                            d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z" />
                    </svg></a></li>
            <div class="center">
                <li><a href="/setting.html" class="change">ตั้งค่า</a></li>
                <li><a href="../content.html" class="change">ฝึกฝน</a></li>
            </div>
            <li id="sun"><a href="#"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960"
                        width="24px" fill="#1f1f1f">
                        <path
                            d="M480-360q50 0 85-35t35-85q0-50-35-85t-85-35q-50 0-85 35t-35 85q0 50 35 85t85 35Zm0 80q-83 0-141.5-58.5T280-480q0-83 58.5-141.5T480-680q83 0 141.5 58.5T680-480q0 83-58.5 141.5T480-280ZM200-440H40v-80h160v80Zm720 0H760v-80h160v80ZM440-760v-160h80v160h-80Zm0 720v-160h80v160h-80ZM256-650l-101-97 57-59 96 100-52 56Zm492 496-97-101 53-55 101 97-57 59Zm-98-550 97-101 59 57-100 96-56-52ZM154-212l101-97 55 53-97 101-59-57Zm326-268Z" />
                    </svg></a></li>
        </ul>
    </nav>
</body>
<style>
    header{
        align-items: center;
        justify-content: center;
        display: flex;
       
    }
    .logout-outsidewrapper{
        display: flex;
        align-items: center;
        justify-content: center;
    }
    .logout-wrapper{
      display: flex;
      align-items: flex-start;
      justify-content: flex-start;

      width: 100%;
       max-width: 800px;
    }
    button{
        margin: 1rem 0;
        padding: 0.5rem 1rem;
        cursor: pointer;
        border-radius: 5px;
        background: var(--main-color, linear-gradient(90deg, #7D84FF 0%, #D04AFF 100%));
        color: white;
        border: none;
    }
    
    main{
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
    }
    main h1{
        color: #000;

        /* TH/display/semibold/base */
        font-family: "IBM Plex Sans Thai";
        font-size: 42px;
        font-style: normal;
        font-weight: 600;
        line-height: 120%; /* 50.4px */
        letter-spacing: -0.525px;
       padding: 2rem 0;
    }
    .container-wrapper{
        width: 100%;
        display: flex;
        align-items: flex-start;
        justify-content: flex-start;
        flex-direction: column;
        max-width: 800px;

    }
    main select{
        max-width: 500px;
        padding: 0.2rem 1rem;
        width: 100%;
        background: rgba(217, 217, 217, 0.40);
    }
    .flex{
        display: flex;
        gap: 1rem;
    }
    .flex h1{
        text-align: center;
        justify-content: center;
        display: flex;
        align-items: center;
    }
    :root{
  --bg: #ffffff;
  --text: #111111;
}

/* ถ้า <html class="dark"> */
html.dark{
  --bg: #121212;
  --text: #e1e1e1;
}

/* ใช้ตัวแปรแทนสีจริง */
body{
  background: var(--bg);
  color: var(--text);
}
</style>
<script>
    document.getElementById("logout").addEventListener('click',() => {
        localStorage.removeItem("isLoggedIn");
        localStorage.removeItem("userName");
        window.location.replace("login.html");
    })
    
    /* ---------- NAVBAR ACTIVE LINK ---------- */
    if (location.pathname.includes('setting.html')) {
      const nav = document.getElementById('nav-setting');
      if (nav) nav.classList.add('active-link');
    }
    
    /* ---------- SIDEBAR ---------- */
    function showsidebar() {
      document.querySelector('.sidebar')?.classList.add('active');
    }
    function hidesidebar() {
      document.querySelector('.sidebar')?.classList.remove('active');
    }
    const storedname = localStorage.getItem("userName")
    document.getElementById("name").textContent = storedname;
    /* ---------- DEMO FETCH NAME ---------- */
    // fetch('http://127.0.0.1:8000/user-all')
    //   .then(res => res.json())
    //   .then(data => {
    //     document.getElementById('name').innerText = data.detail.Wateru.name;
    //   })
    //   .catch(() => {}); // ป้องกัน error ในกรณี fetch ไม่สำเร็จ
    </script>

</html>